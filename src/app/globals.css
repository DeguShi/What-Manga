@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * MANGA-THEMED DESIGN SYSTEM
 * Visual identity: Bold ink strokes, paper textures, panel aesthetics
 * Primary accent: Crimson red (manga passion)
 * Secondary: Deep ink black with warm paper whites
 */

@layer base {
  :root {
    /* Base palette - warm paper whites (like manga pages) */
    --background: 40 25% 96%;
    --foreground: 0 0% 8%;

    /* Surfaces - aged paper warmth */
    --card: 40 30% 97%;
    --card-foreground: 0 0% 8%;
    --popover: 40 25% 98%;
    --popover-foreground: 0 0% 8%;

    /* Primary - refined wine red (manga accent) */
    --primary: 355 75% 45%;
    --primary-foreground: 0 0% 100%;

    /* Secondary - warm ink gray */
    --secondary: 30 10% 90%;
    --secondary-foreground: 0 0% 15%;

    /* Muted - paper shadow */
    --muted: 35 15% 90%;
    --muted-foreground: 0 0% 35%;

    /* Accent - warm gold (like vintage manga covers) */
    --accent: 38 85% 50%;
    --accent-foreground: 0 0% 8%;

    /* Status & Feedback */
    --destructive: 0 70% 50%;
    --destructive-foreground: 0 0% 100%;

    /* Borders - ink stroke style */
    --border: 30 10% 82%;
    --input: 30 10% 88%;
    --ring: 355 75% 45%;

    --radius: 0.5rem;

    /* Spacing tokens */
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-5: 1.25rem;
    --space-6: 1.5rem;
    --space-8: 2rem;
    --space-10: 2.5rem;
    --space-12: 3rem;

    /* Shadow tokens */
    --shadow-color: 220 13% 10%;
    --shadow-sm: 0 1px 2px hsl(var(--shadow-color) / 0.05);
    --shadow-md: 0 4px 6px -1px hsl(var(--shadow-color) / 0.1);
    --shadow-lg: 0 10px 15px -3px hsl(var(--shadow-color) / 0.1);
    --shadow-xl: 0 20px 25px -5px hsl(var(--shadow-color) / 0.15);
  }

  .dark {
    /* Dark mode - deep ink black with warm paper contrast */
    --background: 0 0% 5%;
    --foreground: 40 20% 90%;

    --card: 0 0% 8%;
    --card-foreground: 40 20% 90%;
    --popover: 0 0% 7%;
    --popover-foreground: 40 20% 90%;

    /* Primary - wine red pops beautifully on dark */
    --primary: 355 80% 55%;
    --primary-foreground: 0 0% 100%;

    --secondary: 0 0% 14%;
    --secondary-foreground: 40 15% 82%;

    --muted: 0 0% 11%;
    --muted-foreground: 0 0% 50%;

    /* Accent - warm gold for dark mode */
    --accent: 38 80% 48%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 70% 50%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 16%;
    --input: 0 0% 14%;
    --ring: 355 80% 55%;

    /* Dark mode shadow tokens */
    --shadow-color: 0 0% 0%;
    --shadow-sm: 0 1px 2px hsl(var(--shadow-color) / 0.2);
    --shadow-md: 0 4px 6px -1px hsl(var(--shadow-color) / 0.3);
    --shadow-lg: 0 10px 15px -3px hsl(var(--shadow-color) / 0.4);
    --shadow-xl: 0 20px 25px -5px hsl(var(--shadow-color) / 0.5);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Typography system - distinct heading hierarchy */
  h1,
  .heading-1 {
    font-family: var(--font-display), system-ui, sans-serif;
    @apply text-3xl sm:text-4xl font-bold tracking-tight;
  }

  h2,
  .heading-2 {
    font-family: var(--font-display), system-ui, sans-serif;
    @apply text-2xl sm:text-3xl font-semibold tracking-tight;
  }

  h3,
  .heading-3 {
    font-family: var(--font-display), system-ui, sans-serif;
    @apply text-xl sm:text-2xl font-semibold;
  }

  h4,
  .heading-4 {
    font-family: var(--font-display), system-ui, sans-serif;
    @apply text-lg font-medium;
  }

  /* Display text - for stats, numbers, emphasis */
  .text-display {
    font-family: var(--font-display), system-ui, sans-serif;
    @apply font-bold tracking-tight;
  }

  /* Body text improvements */
  .text-body {
    @apply text-base leading-relaxed;
  }

  .text-body-sm {
    @apply text-sm leading-relaxed;
  }
}

/* Premium Glassmorphism - Light Mode */
@layer utilities {
  .glass {
    @apply bg-white/80 backdrop-blur-xl border border-slate-200/50;
  }

  .glass-card {
    @apply bg-gradient-to-br from-white to-slate-50 backdrop-blur-xl border border-slate-200/60 shadow-lg shadow-slate-200/50;
  }

  .glass-button {
    @apply bg-white/90 backdrop-blur-sm border border-slate-200/60 hover:bg-slate-50 hover:border-slate-300/60 transition-all duration-200;
  }

  /* Dark Mode Glassmorphism */
  .dark .glass {
    @apply bg-slate-900/80 backdrop-blur-xl border border-white/5;
  }

  .dark .glass-card {
    @apply bg-gradient-to-br from-slate-900/90 to-slate-800/60 backdrop-blur-xl border border-white/5 shadow-lg shadow-black/30;
  }

  .dark .glass-button {
    @apply bg-slate-800/80 backdrop-blur-sm border border-white/5 hover:bg-slate-700/80 hover:border-white/10 transition-all duration-200;
  }

  /* Premium Gradients - Manga Crimson */
  .gradient-primary {
    @apply bg-gradient-to-r from-red-600 via-rose-600 to-red-500;
  }

  .gradient-border {
    background: linear-gradient(to right, hsl(var(--primary)), hsl(0 70% 60%));
  }

  /* Mesh Gradient Background - Light (subtle red accents) */
  .mesh-gradient {
    background-color: hsl(var(--background));
    background-image:
      radial-gradient(at 40% 20%, hsla(0, 85%, 55%, 0.06) 0px, transparent 50%),
      radial-gradient(at 80% 0%, hsla(35, 90%, 55%, 0.04) 0px, transparent 50%),
      radial-gradient(at 0% 50%, hsla(0, 70%, 45%, 0.04) 0px, transparent 50%),
      radial-gradient(at 80% 50%, hsla(340, 80%, 50%, 0.04) 0px, transparent 50%),
      radial-gradient(at 0% 100%, hsla(0, 85%, 50%, 0.05) 0px, transparent 50%);
  }

  /* Mesh Gradient Background - Dark (crimson glows) */
  .dark .mesh-gradient {
    background-image:
      radial-gradient(at 40% 20%, hsla(0, 90%, 55%, 0.15) 0px, transparent 50%),
      radial-gradient(at 80% 0%, hsla(35, 85%, 50%, 0.08) 0px, transparent 50%),
      radial-gradient(at 0% 50%, hsla(0, 70%, 40%, 0.08) 0px, transparent 50%),
      radial-gradient(at 80% 50%, hsla(340, 75%, 45%, 0.06) 0px, transparent 50%),
      radial-gradient(at 0% 100%, hsla(0, 70%, 45%, 0.1) 0px, transparent 50%);
  }

  /* Custom scrollbar */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted-foreground) / 0.3) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
  }

  /* ===============================================
   * MANGA-THEMED VISUAL EFFECTS
   * Distinctive design elements inspired by manga aesthetics
   * =============================================== */

  /* Ink border - bold manga panel style */
  .ink-border {
    border: 2px solid hsl(var(--foreground));
    box-shadow:
      3px 3px 0 0 hsl(var(--foreground) / 0.15),
      inset 0 0 0 1px hsl(var(--background) / 0.5);
  }

  .dark .ink-border {
    border-color: hsl(var(--foreground) / 0.8);
    box-shadow:
      3px 3px 0 0 hsl(var(--primary) / 0.2),
      inset 0 0 0 1px hsl(var(--background) / 0.3);
  }

  /* Panel frame - manga panel aesthetic */
  .panel-frame {
    position: relative;
    border: 1px solid hsl(var(--border));
    background: hsl(var(--card));
  }

  .panel-frame::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    border: 2px solid hsl(var(--foreground) / 0.1);
    border-radius: inherit;
    pointer-events: none;
  }

  /* Accent corner - decorative manga corner flourish */
  .accent-corner::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 24px;
    height: 24px;
    background: linear-gradient(135deg, transparent 50%, hsl(var(--primary) / 0.15) 50%);
    border-radius: 0 var(--radius) 0 0;
  }

  /* Brush stroke accent - subtle ink wash effect */
  .brush-accent {
    position: relative;
  }

  .brush-accent::before {
    content: '';
    position: absolute;
    left: 0;
    bottom: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg,
        transparent 0%,
        hsl(var(--primary) / 0.6) 10%,
        hsl(var(--primary)) 50%,
        hsl(var(--primary) / 0.6) 90%,
        transparent 100%);
    border-radius: 2px;
  }

  /* Speed lines effect - for emphasis (use sparingly) */
  .speed-lines {
    position: relative;
    overflow: hidden;
  }

  .speed-lines::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(90deg,
        transparent,
        transparent 20px,
        hsl(var(--foreground) / 0.02) 20px,
        hsl(var(--foreground) / 0.02) 21px);
    pointer-events: none;
  }

  /* Manga card - combines panel + accent for cards */
  .manga-card {
    position: relative;
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    border-left: 3px solid hsl(var(--primary));
    transition: all 0.2s ease;
  }

  .manga-card:hover {
    border-left-color: hsl(var(--primary));
    box-shadow:
      0 4px 12px hsl(var(--primary) / 0.1),
      0 1px 3px hsl(var(--foreground) / 0.05);
  }

  .dark .manga-card:hover {
    box-shadow:
      0 4px 12px hsl(var(--primary) / 0.15),
      0 1px 3px hsl(0 0% 0% / 0.3);
  }

  /* Animations */
  .animate-fade-in {
    animation: fadeIn 0.4s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.4s ease-out;
  }

  .animate-scale-in {
    animation: scaleIn 0.3s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }

    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes shimmer {
    0% {
      background-position: -400% 0;
    }

    100% {
      background-position: 400% 0;
    }
  }

  .animate-shimmer {
    animation: shimmer 2s ease-in-out infinite;
  }

  /* Glow effects */
  .glow-primary {
    box-shadow: 0 0 20px -5px hsl(var(--primary) / 0.5);
  }

  .glow-sm {
    box-shadow: 0 0 15px -3px hsl(var(--primary) / 0.25);
  }

  .dark .glow-sm {
    box-shadow: 0 0 20px -5px hsl(var(--primary) / 0.4);
  }
}

/* Status pill colors */
.status-in-progress {
  @apply bg-blue-500/10 text-blue-700 dark:bg-blue-500/20 dark:text-blue-300 border border-blue-500/20;
}

.status-completed {
  @apply bg-emerald-500/10 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-300 border border-emerald-500/20;
}

.status-incomplete {
  @apply bg-amber-500/10 text-amber-700 dark:bg-amber-500/20 dark:text-amber-300 border border-amber-500/20;
}

.status-uncertain {
  @apply bg-purple-500/10 text-purple-700 dark:bg-purple-500/20 dark:text-purple-300 border border-purple-500/20;
}

.status-dropped {
  @apply bg-rose-500/10 text-rose-700 dark:bg-rose-500/20 dark:text-rose-300 border border-rose-500/20;
}

/* Premium table row hover */
.table-row-premium {
  @apply transition-all duration-200 ease-out;
}

.table-row-premium:hover {
  @apply bg-slate-100/80 dark:bg-white/5;
}

.table-row-premium:active {
  @apply bg-slate-200/80 dark:bg-white/10 scale-[0.995];
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Safe animation utilities that respect reduced motion */
@media (prefers-reduced-motion: no-preference) {
  .motion-safe\:animate-fade-in {
    animation: fadeIn 0.4s ease-out;
  }

  .motion-safe\:animate-slide-up {
    animation: slideUp 0.4s ease-out;
  }

  .motion-safe\:animate-scale-in {
    animation: scaleIn 0.3s ease-out;
  }
}